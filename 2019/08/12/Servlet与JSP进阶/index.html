<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="请求的结构（上）1、HTTP请求包含三部分：请求行，请求头、请求体；1）请求行：1、请求方法，2、请求URL ，3、HTTP协议及版本；2）请求头：Accept-Language:zh-CN ：代表的是中文；User-Agent：说明自己使用的操作系统以及浏览器环境；Content-Length：内容的长度；3）请求体：name=xixi&amp;amp;password=123&amp;amp;realName">
<meta name="keywords" content="JSP,Servlet">
<meta property="og:type" content="article">
<meta property="og:title" content="Servlet与JSP进阶">
<meta property="og:url" content="https://feihong.me/2019/08/12/Servlet与JSP进阶/index.html">
<meta property="og:site_name" content="Feihong&#39;s Blog">
<meta property="og:description" content="请求的结构（上）1、HTTP请求包含三部分：请求行，请求头、请求体；1）请求行：1、请求方法，2、请求URL ，3、HTTP协议及版本；2）请求头：Accept-Language:zh-CN ：代表的是中文；User-Agent：说明自己使用的操作系统以及浏览器环境；Content-Length：内容的长度；3）请求体：name=xixi&amp;amp;password=123&amp;amp;realName">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://img.mukewang.com/climg/5d05ed8d0001b43119201080.jpg">
<meta property="og:image" content="https://img.mukewang.com/climg/5d428d3e0001e99a19201080.jpg">
<meta property="og:image" content="https://img.mukewang.com/climg/5c0a00610001358319201080.jpg">
<meta property="og:updated_time" content="2019-08-14T13:35:57.645Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Servlet与JSP进阶">
<meta name="twitter:description" content="请求的结构（上）1、HTTP请求包含三部分：请求行，请求头、请求体；1）请求行：1、请求方法，2、请求URL ，3、HTTP协议及版本；2）请求头：Accept-Language:zh-CN ：代表的是中文；User-Agent：说明自己使用的操作系统以及浏览器环境；Content-Length：内容的长度；3）请求体：name=xixi&amp;amp;password=123&amp;amp;realName">
<meta name="twitter:image" content="https://img.mukewang.com/climg/5d05ed8d0001b43119201080.jpg">
  <link rel="canonical" href="https://feihong.me/2019/08/12/Servlet与JSP进阶/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Servlet与JSP进阶 | Feihong's Blog</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
 <link rel="stylesheet" href="/dist/APlayer.min.css">
 <div id="aplayer"></div>
 <script type="text/javascript" src="/dist/APlayer.min.js"></script>
 <script type="text/javascript" src="/dist/music.js"></script>

  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Feihong's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="https://feihong.me/2019/08/12/Servlet与JSP进阶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Feihong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Feihong's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Servlet与JSP进阶

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-08-12 21:32:45" itemprop="dateCreated datePublished" datetime="2019-08-12T21:32:45+08:00">2019-08-12</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-08-14 21:35:57" itemprop="dateModified" datetime="2019-08-14T21:35:57+08:00">2019-08-14</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="请求的结构（上）"><a href="#请求的结构（上）" class="headerlink" title="请求的结构（上）"></a>请求的结构（上）</h2><p>1、HTTP请求包含三部分：请求行，请求头、请求体；<br>1）请求行：1、请求方法，2、请求URL ，3、HTTP协议及版本；<br>2）请求头：Accept-Language:zh-CN ：代表的是中文；<br>User-Agent：说明自己使用的操作系统以及浏览器环境；<br>Content-Length：内容的长度；<br>3）请求体：name=xixi&amp;password=123&amp;realName=xixi</p>
<p><img src="https://img.mukewang.com/climg/5d05ed8d0001b43119201080.jpg" alt></p>
<h2 id="请求的结构（下）"><a href="#请求的结构（下）" class="headerlink" title="请求的结构（下）"></a>请求的结构（下）</h2><p>三部分：请求行 请求头 请求体<br>请求行：请求方法、请求URL、HTTP协议及版本<br>请求头：Accept-Language User-Agent:浏览器的环境 Content-Length:内容的长度 Cache Cookie<br>请求体(只有post请求才会有，get放在了url中）： name=imocc&amp;password=12345678&amp;realName=imooc </p>
<p>F12 开发人员工具<br>network标签很重要<br>（重新提交后，会出现Name）<br>1、Get请求：<br>Gereral: Request URL:请求的地址 Request Method：请求的方法 Status Code:响应返回的结果是否正确 Remote Address：端口号<br>Request Headers: Accept：浏览器能处理哪些内容（text/html) Accept-language(语言环境）User-Agent:操作环境<br>Query String Parameter:查询字符串参数 （重要）<br>2、Post请求<br>保存在请求体中<br>F12<br>最小面From Data中 查看请求体中存储的Data</p>
<p>get请求把请求放在url中<br>post请求把请求放在请求体(requset中） 他们存贮数据的格式是完全相同的</p>
<h2 id="利用请求头开发多端应用"><a href="#利用请求头开发多端应用" class="headerlink" title="利用请求头开发多端应用"></a>利用请求头开发多端应用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.feihong.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class UserAgentServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/ua"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAgentServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserAgentServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		String userAgent=request.getHeader(<span class="string">"User-Agent"</span>);</span><br><span class="line">		response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">		response.getWriter().println(userAgent);</span><br><span class="line">		String output=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Windows NT"</span>)!=-<span class="number">1</span>) &#123;</span><br><span class="line">			output=<span class="string">"&lt;h1&gt;这是PC端&lt;/h1&gt;"</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"iPhone"</span>)!=-<span class="number">1</span>||userAgent.indexOf(<span class="string">"Android"</span>)!=-<span class="number">1</span>) &#123;</span><br><span class="line">			output=<span class="string">"&lt;h1&gt;这是移动端&lt;/h1&gt;"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		response.getWriter().println(output);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="响应的结构"><a href="#响应的结构" class="headerlink" title="响应的结构"></a>响应的结构</h2><p>1、HTTP响应包含三部分：响应行、响应头、响应体；<br>响应行：1、报文协议及版本；2、状态码及状态描述；<br>响应头：Content-Type：text/html；</p>
<p>HTTP常见状态码：<br>200 ： 服务器处理成功；<br>404 ：无法找到文件；<br>500 ：内部服务器错误；<br>403 : 服务器拒绝访问；<br>301，302：请求重定向；<br>400 ：无法请求；<br>401 ：未经过授权；<br>503 ：服务器超负载或正停机维护，无法处理请求；</p>
<p>源代码和响应体的内容是完全一致的,通过相应头的content-type将源代码转为为对应的格式（例如html格式）</p>
<h2 id="ContentType的作用"><a href="#ContentType的作用" class="headerlink" title="ContentType的作用"></a>ContentType的作用</h2><p>ContentType决定浏览器采用何种方式对响应体进行处理</p>
<p><img src="https://img.mukewang.com/climg/5d428d3e0001e99a19201080.jpg" alt></p>
<h2 id="请求转发与响应重定向的使用"><a href="#请求转发与响应重定向的使用" class="headerlink" title="请求转发与响应重定向的使用"></a>请求转发与响应重定向的使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转发请求 浏览器地址栏不会改变</span></span><br><span class="line"><span class="comment">// （服务器内部将请求转发给另一个资源）</span></span><br><span class="line">request.getRequestDispatcher(url).forward(request,response）</span><br><span class="line"><span class="comment">// 响应重定向，url需要加contextPath</span></span><br><span class="line"><span class="comment">// 地址栏会变成最后的url （处理完成第一个请求之后返回一个特殊的响应给浏览器由浏览器重新发起另一个请求到新的资源）</span></span><br><span class="line">response.sendRedirect(url);</span><br></pre></td></tr></table></figure>

<p><img src="https://img.mukewang.com/climg/5c0a00610001358319201080.jpg" alt></p>
<h2 id="请求转发与响应重定向的原理"><a href="#请求转发与响应重定向的原理" class="headerlink" title="请求转发与响应重定向的原理"></a>请求转发与响应重定向的原理</h2><p>请求转发与响应重定向的原理：<br>1、 请求转发是服务器跳转，只会产生一次请求；<br>2、请求转发的语句是：request.getRequestDispatcher().foeward();</p>
<p>请求转发的流程：<br>启动浏览器，输入URL以后，浏览器会产生一个请求，发送到Tomcat上，在Tomcat里面会有对应的Servlet对这个请求进行处理，当Servlet1在处理完之后调用了请求转发语句的时候，它就会把这个请求原封不动的发送给Servlet2，注Servlet1与Servlet2的内容是完全相同的，它不会做任何的修改，然后，Servlet2处理完后，Servler2进行响应，把响应的结果返回给浏览器。</p>
<p>响应重定向：<br>1、重定向是浏览器端跳转，会产生两次请求；<br>2、响应重定向的语句是：response.sendRedirect();</p>
<p>响应重定向的执行流程：<br>启动浏览器，输入URL以后，浏览器会产生一个请求，发送到Tomcat上，在Tomcat被接收转发给了Servlet1，Servlet1处理完以后就会调用响应重定向的语句，Servlet1会马上返回一个特殊的响应，送回给浏览器，它会不显示HTML页面，而是这个响应会要浏览器重新生成一个请求跳转到新的地址上，然后浏览器会生成一个请求2，在由Tomcat把这个新的请求2转发给Servlet2，Servlet2处理完后就会将这个响应2再次返回给浏览器，然后浏览器就会显示新的地址了。</p>
<p>设置请求自定义属性：<br>1、请求是允许创建自定义属性的；<br>2、设置请求属性：request.setAttribute(属性名，属性值)； //属性名必须是字符串，属性值则可以是任何有效的Java对象；<br>3、获取请求属性：<br>Object attr = request.getAttribute(属性名);</p>
<p>注意注意：响应重定向因为获得的request是接受的服务器不同的指令，故二个Servlet中的request的attribute并不会共享</p>
<h2 id="浏览器Cookie"><a href="#浏览器Cookie" class="headerlink" title="浏览器Cookie"></a>浏览器Cookie</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Cookie 对象 方法 getName，就是key值 getValue() 是value值</span><br><span class="line">setMaxAge() 设置cookie存在时间 </span><br><span class="line">注意的是： 什么时候用request，什么时候用response.去调用实例对象</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取cookie列表</span></span><br><span class="line">String s = <span class="keyword">null</span>;</span><br><span class="line">Cookie[] cookies = request.getCookies();</span><br><span class="line"><span class="comment">//当原来的cookie保存到期了，Cookie就是null.所以要防止</span></span><br><span class="line"><span class="keyword">if</span> ( cookies == <span class="keyword">null</span> ) &#123;</span><br><span class="line">response.getWriter().println(<span class="string">"用户未登录"</span>);</span><br><span class="line"><span class="keyword">return</span>; </span><br><span class="line">&#125;</span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(String key, String value); <span class="comment">//创建Cookie对象并实例化</span></span><br><span class="line">cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>); <span class="comment">//设置cookie的存在时</span></span><br><span class="line">response.addCookie(cookie);<span class="comment">//将实例化的对象添加到？？</span></span><br><span class="line">上面一般在一个servlet中完成。如用户登录页面</span><br><span class="line"></span><br><span class="line">Cookie [] cookies = request.getCookies(); <span class="comment">//request.getCookies();</span></span><br><span class="line">会得到一个Cookie的数组</span><br><span class="line">遍历并判断是否存在用户名</span><br><span class="line"><span class="keyword">for</span> (Cookie c : cookies) &#123;</span><br><span class="line"><span class="keyword">if</span> (c.getName().equals(<span class="string">"user"</span>)) &#123;</span><br><span class="line">s = c.getValue();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (s!=<span class="keyword">null</span>) &#123;</span><br><span class="line">response.getWriter().println(<span class="string">"success"</span>);</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">response.getWriter().println(<span class="string">"用户未登录"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="用户会话Session对象"><a href="#用户会话Session对象" class="headerlink" title="用户会话Session对象"></a>用户会话Session对象</h2><p>Session（用户会话）用于保存于“浏览器窗口”对应的数据。它于Cookie的不同是：Cookie保存的数据在客户端，二Session保存的数据在服务器。<br>session是与窗口绑定的，保存在tomcat服务器的数据是30分钟.<br>Session通过浏览器Cookie的SessionId提取对应用户的数据</p>
<h2 id="Session的实现原理"><a href="#Session的实现原理" class="headerlink" title="Session的实现原理"></a>Session的实现原理</h2><p>浏览器1第一次向Tomcat发送请求时，会在Tomcat的内存中开辟一块存储用于本次会话的空间，并给它一个ID号（SessionId）返回给浏览器。然后如果浏览器传输值过来的话会把值放到那块Tomcat开辟的空间中然后保存，当Servlet处理完之后,然后Tomcat就会把刚刚生成的SessionId随着响应返回给浏览器，然后浏览器会把这个值存储到Cookie中。当第二次浏览器发送请求之后，就会有把存储到Cookie里面的SessionId取出来发送给Tomcat，当看到传过来的SessionId 就会根据Id 查找相应的值，然后响应。</p>
<h2 id="ServletContext与三大作用域对象"><a href="#ServletContext与三大作用域对象" class="headerlink" title="ServletContext与三大作用域对象"></a>ServletContext与三大作用域对象</h2><p>ServletContext与三大作用域：<br>1、ServletContext （Servlet上下文对象），是Web应用全局对象；<br>2、一个Web应用只会创建一个ServletContext对象；<br>3、ServletContext 随着Web应用启动而自动创建；</p>
<p>Java Web 三大作用域对象：<br>1、HttpServletRequest -请求对象 生命周期最短 request是瞬时对象；<br>当一个请求送往Tomcat之后，这个请求就会被创建，当Servlet处理完成之后，产生了响应，并且返回给浏览器，则当前的请求对象就会被销毁；<br>2、HttpSession - 用户会话对象 生命周期比request长一点 ；<br>Session是被用户第一次发来请求的时候创建的，默认情况下Session在30分钟内没有被访问就会被销毁, 把浏览器关掉其实是将存储在cookie中的sessionid抛弃，并没有被销毁；<br>3、ServletContext - web应用全局对象 作用范围最大 生命周期最长；<br>ServletContext在Web应用程序启动的时候创建的，Web应用程序重启或<br>关闭后才会被销毁；<br>注:在工作中如果能用作用域小的来实现功能就别用大的作用域来实现功能；</p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/JSP/" rel="tag"># JSP</a>
            
              <a href="/tags/Servlet/" rel="tag"># Servlet</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/08/11/JSP入门/" rel="next" title="JSP入门">
                  <i class="fa fa-chevron-left"></i> JSP入门
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/08/27/博客应该不会再维护了/" rel="prev" title="博客应该不会再维护了">
                  博客应该不会再维护了 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#请求的结构（上）"><span class="nav-number">1.</span> <span class="nav-text">请求的结构（上）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请求的结构（下）"><span class="nav-number">2.</span> <span class="nav-text">请求的结构（下）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#利用请求头开发多端应用"><span class="nav-number">3.</span> <span class="nav-text">利用请求头开发多端应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#响应的结构"><span class="nav-number">4.</span> <span class="nav-text">响应的结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ContentType的作用"><span class="nav-number">5.</span> <span class="nav-text">ContentType的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请求转发与响应重定向的使用"><span class="nav-number">6.</span> <span class="nav-text">请求转发与响应重定向的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请求转发与响应重定向的原理"><span class="nav-number">7.</span> <span class="nav-text">请求转发与响应重定向的原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#浏览器Cookie"><span class="nav-number">8.</span> <span class="nav-text">浏览器Cookie</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户会话Session对象"><span class="nav-number">9.</span> <span class="nav-text">用户会话Session对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session的实现原理"><span class="nav-number">10.</span> <span class="nav-text">Session的实现原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletContext与三大作用域对象"><span class="nav-number">11.</span> <span class="nav-text">ServletContext与三大作用域对象</span></a></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Feihong</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">81</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Feihong</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  <script src="/lib/pjax/pjax.min.js?v=0.2.8"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>

<script src="/js/next-boot.js?v=7.4.0"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var id = element.id || '';
    var src = element.src || '';
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (id !=='') {
      script.id = element.id;
    }
    if (src !== '') {
      script.src = src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




















    <div id="pjax">

  

  

  

    </div>
</body>
</html>
